!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("tween",n):t.Tween=n()}(this,function(){"use strict";function t(t){return v.call(t)}function n(n,e){return t(n)==="[object "+e+"]"}function e(t,n,e){function r(){}if(r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t,e)for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])}function r(t){return n(t,"Number")&&d(t)&&t>=0}function i(t,n,e){switch(e.length){case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2]);case 4:return t.call(n,e[0],e[1],e[2],e[3]);case 5:return t.call(n,e[0],e[1],e[2],e[3],e[4]);case 6:return t.call(n,e[0],e[1],e[2],e[3],e[4],e[5]);default:return t.apply(n,e)}}function u(t,n,e){arguments.length<3&&(e=t);for(var r=0,u=t.length;r<u;r++)i(n,t,[t[r],r,t])}function o(t,n){if(t.indexOf)return t.indexOf.call(t,n);for(var e=0,r=t.length;e<r;e++)if(t[e]===n)return e;return-1}function a(){this.__tweens=[]}function c(t,n,e){var r=!0;if(t)for(var u=0,o=t.length;u<o;u+=2)r=i(t[u],t[u+1]||e,n)!==!1&&r;return r}function s(){}function _(t,n,e){return(n-t)*e+t}function f(t,n){return O(t)/O(n)/O(t-n)}function h(t,n,e,r,i){var u=.5*(e-t),o=.5*(r-n),a=i*i,c=i*a;return(2*n-2*e+u+o)*c+(-3*n+3*e-2*u-o)*a+u*i+n}function l(t){var n=this;n.__object=t,n.__valuesStart={},n.__valuesEnd={},n.__valuesReversed={},n.__duration=1e3,n.__repeat=0,n.__repeatDelayTime=null,n.__yoyo=!1,n.__isPlaying=!1,n.__delayTime=0,n.__startTime=null,n.__easingFunction=m.Linear.None,n.__interpolationFunction=M.Linear,n.__chainedTweens=[],n.__startEventFired=!1,n.reversed=!1}var p,v=Object.prototype.toString,d=Number.isFinite||isFinite,y=Object.keys?Object.keys:function(t){var n=[];for(var e in t)t.hasOwnProperty(e)&&n.push(e);return n};p=window&&window.performance&&n(window.performance.now,"Function")?function(){return window.performance.now.call(window.performance)}:n(Date.now,"Function")?Date.now:function(){return(new Date).getTime()},a.prototype={items:function(){return this.__tweens},add:function(t){var n=this,e=n.__tweens;o(e,t)===-1&&e.push(t)},remove:function(t){var n=this;if(0===arguments.length)n.__tweens=[];else{var e=n.__tweens,r=o(e,t);r!==-1&&e.splice(r,1)}},update:function(t,n){var e=this.__tweens;if(0===e.length)return!1;var i=0;for(t=r(t)?t:p();i<e.length;)e[i].update(t)||n?i++:e.splice(i,1);return!0}};var w=/\s+/;s.prototype.on=function(t,n,e){var r,i,u,o=this;if(!n)return o;for(t=t.split(w),r=o.__events||(o.__events={});i=t.shift();)u=r[i]||(r[i]=[]),u.push(n,e);return o},s.prototype.once=function(t,n,e){var r=this,u=arguments,o=function(){e=u.length<3?this:r,r.off(t,o),i(n,e,arguments)};return r.on(t,o,e)},s.prototype.off=function(t,n,e){var r,i,u,o,a=this;if(!(r=a.__events))return a;if(!(t||n||e))return delete a.__events,a;for(t=t?t.split(w):y(r);i=t.shift();)if(u=r[i])if(n||e){for(o=u.length-2;o>=0;o-=2)if(!(n&&u[o]!==n||e&&u[o+1]!==e)){u.splice(o,2);break}}else delete r[i];return a},s.prototype.emitWith=function(t,e,r){var i,u=this;if(!(i=u.__events))return this;arguments.length<3&&(r=u);var o,a,s,_=!0;for(t=t.split(w),e=n(e,"Array")?e:[e];o=t.shift();)(a=i.all)&&(a=a.slice()),(s=i[o])&&(s=s.slice()),"all"!==o&&(_=c(s,e,r)&&_),_=c(a,[o].concat(e),r)&&_;return _},s.prototype.emit=function(t){for(var n=[],e=1,r=arguments.length;e<r;e++)n[e-1]=arguments[e];return this.emitWith(t,n)};var m={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-m.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*m.Bounce.In(2*t):.5*m.Bounce.Out(2*t-1)+.5}}},O=function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var r=n;r>1;r--)e*=r;return t[n]=e,e}}(),M={Linear:function(t,n){var e=t.length-1,r=e*n,i=Math.floor(r);return n<0?_(t[0],t[1],r):n>1?_(t[e],t[e-1],e-r):_(t[i],t[i+1>e?e:i+1],r-i)},Bezier:function(t,n){for(var e=0,r=t.length-1,i=Math.pow,u=0;u<=r;u++)e+=i(1-n,r-u)*i(n,u)*t[u]*f(r,u);return e},CatmullRom:function(t,n){var e=t.length-1,r=e*n,i=Math.floor(r);return t[0]===t[e]?(n<0&&(i=Math.floor(r=e*(1+n))),h(t[(i-1+e)%e],t[i],t[(i+1)%e],t[(i+2)%e],r-i)):n<0?t[0]-(h(t[0],t[0],t[1],t[1],-r)-t[0]):n>1?t[e]-(h(t[e],t[e],t[e-1],t[e-1],r-e)-t[e]):h(t[i?i-1:0],t[i],t[e<i+1?e:i+1],t[e<i+2?e:i+2],r-i)}},g=new a;return l.now=p,l.Easing=m,l.Interpolation=M,u(["add","remove","update","items"],function(t){l[t]=function(){return i(g[t],g,arguments)}}),e(l,s,{to:function(t,n){var e=this;return r(n)&&(e.__duration=n),e.__valuesEnd=t,e},start:function(n){var e=this;g.add(e),e.__isPlaying=!0,e.__startEventFired=!1,e.__startTime=r(n)?n:p(),e.__startTime+=e.__delayTime;var i,u=e.__object;for(var o in u)i=1*u[o],d(i)&&(e.__valuesStart[o]=i);var a,c,s=e.__valuesEnd,_=e.__valuesStart;e.__valuesReversed;for(var f in _)if(s.hasOwnProperty(f)&&(i=_[f],a=s[f],c=t(a),"[object Array]"===c)){if(0===a.length)continue;s[f]=[i].concat(a)}return e},stop:function(){var t=this;if(!t.__isPlaying)return t;g.remove(t),t.__isPlaying=!1;var n=t.__object;return t.emitWith("stop",n,n),t.stopChainedTweens(),t},end:function(){var t=this;return t.update(t.__startTime+t.__duration),t},stopChainedTweens:function(){return u(this.__chainedTweens,function(t){t.stop()}),this},delay:function(t){return r(t)&&(this.__delayTime=t),this},repeat:function(t){return(r(t)||t===1/0)&&(this.__repeat=t),this},repeatDelay:function(t){var n=this;return r(t)?n.__repeatDelayTime=t:t===!1&&(n.__repeatDelayTime=null),this},yoyo:function(t){return this.__yoyo=!!t,this},easing:function(t){return this.__easingFunction=t,this},interpolation:function(t){return this.__interpolationFunction=t,this},chain:function(){return this.__chainedTweens=arguments,this},update:function(e){var i,o,a,c=this;if(e=r(e)?e:p(),e<c.__startTime)return!0;var s=c.__object;c.__startEventFired===!1&&(c.emitWith("start",s,s),c.__startEventFired=!0),o=(e-c.__startTime)/c.__duration,o=o>1?1:o,a=c.__easingFunction(o);var _,f,h,l=c.__valuesEnd,v=c.__valuesStart;for(i in l)v.hasOwnProperty(i)&&(_=v[i],f=l[i],h=t(f),"[object Array]"===h?f=c.__interpolationFunction(f,a):"[object String]"===h&&("+"===f.charAt(0)||"-"===f.charAt(0)?f=_+1*f:f*=1,f=_+(f-_)*a),d(f)?s[i]=f:delete v[i]);if(c.emitWith("update",[s,a,c.reversed],s),1===o){if(c.__repeat>0){d(c.__repeat)&&c.__repeat--;var y=c.__yoyo;for(i in v)f=l[i],h=t(f),n(l,"String")&&(v[i]=v[i]+1*l[i]),y&&(n(l[i],"Array")?(l[i]=l[i].reverse(),v[i]=v[i][0]):l[i]=[v[i],valuesStavaluesStartrtRepeat[i]=l[i]][0]);return y&&(c.reversed=!c.reversed),null!==c.__repeatDelayTime?c.__startTime=e+c.__repeatDelayTime:c.__startTime=e+c.__delayTime,!0}return c.emitWith("complete",s,s),u(c.__chainedTweens,function(t){t.start(c.__startTime+c.__duration)}),!1}return!0}}),l});
//# sourceMappingURL=tween.js.map