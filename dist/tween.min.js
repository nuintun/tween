!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define("tween",n):t.Tween=n()}(this,function(){"use strict";function t(t){return d.call(t)}function n(n,e){return t(n)==="[object "+e+"]"}function e(t,n,e){function r(){}if(r.prototype=n.prototype,t.prototype=new r,t.prototype.constructor=t,e)for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])}function r(t){return n(t,"Number")&&m(t)&&t>=0}function i(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2]);default:return t.apply(n,e)}}function u(){this.__tweens=[]}function o(){this.__events={}}function a(t,n,e){return(n-t)*e+t}function _(t,n){return M(t)/M(n)/M(t-n)}function c(t,n,e,r,i){var u=.5*(e-t),o=.5*(r-n),a=i*i;return(2*n-2*e+u+o)*(i*a)+(-3*n+3*e-2*u-o)*a+u*i+n}function s(t){var n=this;o.call(n),n.__object=t,n.__valuesStart={},n.__valuesEnd={},n.__startReversed={},n.__endReversed={},n.__duration=1e3,n.__repeat=0,n.__repeatDelayTime=null,n.__yoyo=!1,n.__delayTime=0,n.__startTime=null,n.__easingFunction=g.Linear.None,n.__interpolationFunction=I.Linear,n.__chainedTweens=[],n.__startEventFired=!1,n.playing=!1,n.reversed=!1}var f,h=Array.prototype,l=Object.prototype,v=h.indexOf,p=h.forEach,d=l.toString,m=Number.isFinite||m,w=v?function(t,n,e){return v.call(t,n,e)}:function(t,n,e){var r=t.length>>>0;for(e=Number(e)||0,e=Math[e<0?"ceil":"floor"](e),e<0&&(e=Math.max(e+r,0));e<r;e++)if(e in t&&t[e]===n)return e;return-1},y=p?function(t,n,e){p.call(t,n,e)}:function(t,n,e){arguments.length;for(var r=0,i=t.length;r<i;r++)n.call(t,t[r],r,t)};f=window&&window.performance&&n(window.performance.now,"Function")?function(){return window.performance.now.call(window.performance)}:n(Date.now,"Function")?Date.now:function(){return(new Date).getTime()},u.prototype={items:function(){return this.__tweens},add:function(t){t instanceof s&&this.__tweens.push(t)},remove:function(t){var n=this;if(0===arguments.length)n.__tweens=[];else{var e=n.__tweens,r=w(e,t);r!==-1&&e.splice(r,1)}},update:function(t,n){var e=this.__tweens;if(0===e.length)return!1;var i=0;for(t=r(t)?t:f();i<e.length;)e[i].update(t)||n?i++:e.splice(i,1);return!0}},o.prototype={on:function(t,e){var r=this,i=r.__events,u=i[t]||(i[t]=[]);return n(e,"Function")&&u.push(e),r},off:function(t,n){var e=this;switch(arguments.length){case 0:e.__events={};break;case 1:delete e.__events[t];break;default:var r=events[t];if(r){var i=w(r,n);i!==-1&&r.splice(i,1)}}return e},once:function(t,n,e){var r=this,u=arguments,o=function(){e=u.length<3?this:r,r.off(t,o),i(n,e,arguments)};return r.on(t,o,e)},emitWith:function(t,e,r){var u=this,o=u.__events,a=o[t];if(!a||0===a.length)return!1;var _=arguments.length;return _<3&&(r=u),e=_<2?[]:n(e,"Array")?e:[e],y(a,function(t){i(t,r,e)}),!0},emit:function(t){var n=this,e=n.__events,r=e[t];if(!r||0===r.length)return!1;for(var i=[],u=1,o=arguments.length;u<o;u++)i[u-1]=arguments[u];return n.emitWith(t,i)}};var g={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2,t<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1)}},Back:{In:function(t){var n=1.70158;return t*t*((n+1)*t-n)},Out:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},InOut:function(t){var n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}},Bounce:{In:function(t){return 1-g.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*g.Bounce.In(2*t):.5*g.Bounce.Out(2*t-1)+.5}}},M=function(){var t=[1];return function(n){var e=1;if(t[n])return t[n];for(var r=n;r>1;r--)e*=r;return t[n]=e,e}}(),I={Linear:function(t,n){var e=t.length-1,r=e*n,i=Math.floor(r);return n<0?a(t[0],t[1],r):n>1?a(t[e],t[e-1],e-r):a(t[i],t[i+1>e?e:i+1],r-i)},Bezier:function(t,n){for(var e=0,r=t.length-1,i=Math.pow,u=0;u<=r;u++)e+=i(1-n,r-u)*i(n,u)*t[u]*_(r,u);return e},CatmullRom:function(t,n){var e=t.length-1,r=e*n,i=Math.floor(r);return t[0]===t[e]?(n<0&&(i=Math.floor(r=e*(1+n))),c(t[(i-1+e)%e],t[i],t[(i+1)%e],t[(i+2)%e],r-i)):n<0?t[0]-(c(t[0],t[0],t[1],t[1],-r)-t[0]):n>1?t[e]-(c(t[e],t[e],t[e-1],t[e-1],r-e)-t[e]):c(t[i?i-1:0],t[i],t[e<i+1?e:i+1],t[e<i+2?e:i+2],r-i)}},O=new u,T=/^[+-]\d+$/;return s.now=f,s.Easing=g,s.Interpolation=I,y(["add","remove","update","items"],function(t){s[t]=function(){return i(O[t],O,arguments)}}),e(s,o,{to:function(t,n){var e=this;return r(n)&&(e.__duration=n),e.__valuesEnd=t,e},start:function(n){var e=this;e.playing=!0,e.__startEventFired=!1,e.__startTime=r(n)?n:f(),e.__startTime+=e.__delayTime;var i,u=e.__object;e.__valuesStart={};for(var o in u)i=1*u[o],m(i)&&(e.__valuesStart[o]=i);var a,_,c,s,h,l,v,p=e.__valuesEnd,d=e.__valuesStart;e.__valuesEnd={},e.__startReversed={},e.__endReversed={};for(var w in p)if(d.hasOwnProperty(w)){if(i=d[w],_=p[w],"[object Array]"===(h=t(_))){s=_.length,_=[],l=[];for(var a=0;a<s;a++){if(c=1*p[w][a],!m(c)){_=[];break}_.push(c),l=[c].concat(l)}if(0===_.length)continue;_=[i].concat(_),l.push(i),v=l[0]}else if("[object String]"===h){if(T.test(_))v=i+1*_,l=("+"===_.charAt(0)?"-":"+")+_.substring(1);else if(_*=1,v=_,l=i,!m(_))continue}else{if(!m(_))continue;v=_,l=i}e.__valuesEnd[w]=_,e.__startReversed[w]=v,e.__endReversed[w]=l}return O.add(e),e},stop:function(){var t=this;if(!t.playing)return t;O.remove(t),t.playing=!1,t.__startEventFired=!1;var n=t.__object;return t.emitWith("stop",n,n),t.stopChainedTweens(),t},end:function(){var t=this;return t.update(t.__startTime+t.__duration),t},stopChainedTweens:function(){return y(this.__chainedTweens,function(t){t.stop()}),this},delay:function(t){return r(t)&&(this.__delayTime=t),this},repeat:function(t){return(r(t)||t===Infinity)&&(this.__repeat=t),this},repeatDelay:function(t){var n=this;return r(t)?n.__repeatDelayTime=t:t===!1&&(n.__repeatDelayTime=null),this},yoyo:function(t){return this.__yoyo=!!t,this},easing:function(t){return this.__easingFunction=t,this},interpolation:function(t){return this.__interpolationFunction=t,this},chain:function(){return this.__chainedTweens=arguments,this},update:function(n){var e,i,u,o=this;if((n=r(n)?n:f())<o.__startTime)return!0;var a=o.__object;o.__startEventFired===!1&&(o.emitWith("start",a,a),o.__startEventFired=!0),i=(n-o.__startTime)/o.__duration,i=i>1?1:i,e=o.__easingFunction(i);var _,c,s,h=o.__yoyo,l=o.__valuesEnd,v=o.__valuesStart;for(u in l)v.hasOwnProperty(u)&&(c=v[u],_=l[u],s=t(_),"[object Array]"!==s?("[object String]"===s&&(_=c+1*_,1!==i||h||(v[u]=_)),a[u]=c+(_-c)*e):a[u]=o.__interpolationFunction(_,e));return o.emitWith("update",[a,e,o.reversed],a),1!==i||(o.__repeat>0?(o.emitWith("cycle",a,a),m(o.__repeat)&&o.__repeat--,h&&(o.reversed=!o.reversed,o.__valuesStart=[o.__startReversed,o.__startReversed=v][0],o.__valuesEnd=[o.__endReversed,o.__endReversed=l][0]),null!==o.__repeatDelayTime?o.__startTime=n+o.__repeatDelayTime:o.__startTime=n+o.__delayTime,!0):(o.emitWith("complete",a,a),y(o.__chainedTweens,function(t){t.start(o.__startTime+o.__duration)}),!1))}}),s});
//# sourceMappingURL=tween.js.map